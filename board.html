<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CampusBoard | Board</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="styles.css" />
    <script>
      // Применяем тему сразу при загрузке страницы, до отрисовки контента
      (function() {
        try {
          const stored = localStorage.getItem('cb:prefs');
          let theme = 'auto';
          if (stored) {
            const prefs = JSON.parse(stored);
            theme = prefs.theme || 'auto';
          }
          let effective = theme;
          if (effective === 'auto') {
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            effective = prefersDark ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', effective);
          document.body.setAttribute('data-theme', effective);
        } catch (e) {
          // Если ошибка, применяем тему по умолчанию
          const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
          document.body.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
        }
      })();
    </script>
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a href="index.html" class="logo" data-i18n="logo.label">
          <span class="logo-mark">CB</span>
          <span class="logo-text">CampusBoard</span>
        </a>
        <nav class="nav" id="primaryNav">
          <a href="index.html" class="nav-link" data-i18n="nav.home">Home</a>
          <a href="about.html" class="nav-link" data-i18n="nav.about">About</a>
          <a href="board.html" class="nav-link nav-link-active" data-i18n="nav.board">Board</a>
          <a href="add-post.html" class="nav-link nav-cta" data-i18n="nav.addPost">Add Post</a>
        </nav>
        <div class="header-controls">
          <button
            class="icon-btn"
            id="langToggle"
            type="button"
            aria-label="Toggle language"
          >
            <span id="langToggleLabel">EN</span>
          </button>
          <button
            class="icon-btn"
            id="themeToggle"
            type="button"
            aria-label="Toggle theme"
          >
            <i class="fa-solid fa-moon" id="themeToggleIcon"></i>
          </button>
        </div>
        <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
          <span class="nav-toggle-line"></span>
          <span class="nav-toggle-line"></span>
        </button>
      </div>
    </header>

    <main class="layout-main">
      <section>
        <div class="container">
          <div class="page-header">
            <p class="page-kicker" data-i18n="board.kicker">Campus Board</p>
            <h1 class="page-title" data-i18n="board.title">All announcements in one place.</h1>
            <p class="page-subtitle" data-i18n="board.subtitle">
              Browse events, deadlines, and opportunities. Use filters to narrow
              down to what matters most to you.
            </p>
          </div>

          <div class="board-layout">
            <div>
              <div class="board-controls">
                <div class="filter-row" id="filterRow" role="radiogroup" aria-label="Filter announcements">
                  <button class="filter-btn is-active" data-filter="all" role="radio" aria-checked="true">
                    <i class="fa-solid fa-border-all"></i>
                    <span data-i18n="filters.all">All</span>
                  </button>
                  <button class="filter-btn" data-filter="events" role="radio" aria-checked="false">
                    <i class="fa-solid fa-calendar-star"></i>
                    <span data-i18n="filters.events">Events</span>
                  </button>
                  <button class="filter-btn" data-filter="academics" role="radio" aria-checked="false">
                    <i class="fa-solid fa-graduation-cap"></i>
                    <span data-i18n="filters.academics">Academics</span>
                  </button>
                  <button class="filter-btn" data-filter="lost-found" role="radio" aria-checked="false">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <span data-i18n="filters.lostFound">Lost &amp; Found</span>
                  </button>
                  <button class="filter-btn" data-filter="jobs" role="radio" aria-checked="false">
                    <i class="fa-solid fa-briefcase"></i>
                    <span data-i18n="filters.jobs">Jobs</span>
                  </button>
                  <button class="filter-btn" data-filter="for-sale" role="radio" aria-checked="false">
                    <i class="fa-solid fa-tag"></i>
                    <span data-i18n="filters.forSale">For Sale</span>
                  </button>
                </div>

                <div class="sort-row">
                  <div class="sort-select">
                    <span data-i18n="sort.label">Sort by</span>
                    <select id="sortSelect">
                      <option value="newest" data-i18n="sort.newest">Newest</option>
                      <option value="most-liked" data-i18n="sort.mostLiked">Most liked</option>
                      <option value="category" data-i18n="sort.category">Category</option>
                    </select>
                  </div>
                  <div class="board-stats" id="boardStats"></div>
                </div>
              </div>

              <div class="board-grid" id="boardGrid"></div>
            </div>

            <aside class="board-sidebar">
              <div>
                <h3 data-i18n="board.sidebar.tipsTitle">Tips for posting</h3>
                <p>
                  Use clear titles, choose the right category, and mark time-sensitive
                  posts as high priority so they stand out.
                </p>
              </div>
              <div>
                <h3 data-i18n="board.sidebar.tagsTitle">Popular tags</h3>
                <div class="sidebar-chip-row">
                  <span class="sidebar-chip">First-years</span>
                  <span class="sidebar-chip">Scholarships</span>
                  <span class="sidebar-chip">Campus Jobs</span>
                  <span class="sidebar-chip">Performances</span>
                  <span class="sidebar-chip">Career Fair</span>
                </div>
              </div>
              <div>
                <h3 data-i18n="board.sidebar.shareTitle">Want to share something?</h3>
                <p data-i18n="board.sidebar.shareBody">Post your own announcement in just a few steps.</p>
                <a href="add-post.html" class="btn btn-primary btn-wide">
                  <span data-i18n="board.sidebar.shareCta">Add a new post</span>
                </a>
              </div>
            </aside>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div>
          <p class="footer-brand">CampusBoard</p>
          <p class="footer-text">
            Built by the CampusBoard team to keep every student in the know.
          </p>
        </div>
        <div class="footer-meta">
          <p>Design &amp; Development · 2026 Cohort</p>
          <p class="footer-links">
            <a href="about.html" data-i18n="footer.team">Our Team</a>
            <span>·</span>
            <a href="board.html" data-i18n="footer.announcements">Announcements</a>
          </p>
        </div>
      </div>
    </footer>

    <div id="toastContainer" class="toast-container" aria-live="polite" aria-atomic="true"></div>
    <script src="main.js"></script>
  </body>
</html>

