<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CampusBoard | Home</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="styles.css" />
    <script>
      // Применяем тему сразу при загрузке страницы, до отрисовки контента
      (function() {
        try {
          const stored = localStorage.getItem('cb:prefs');
          let theme = 'auto';
          if (stored) {
            const prefs = JSON.parse(stored);
            theme = prefs.theme || 'auto';
          }
          let effective = theme;
          if (effective === 'auto') {
            const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
            effective = prefersDark ? 'dark' : 'light';
          }
          document.documentElement.setAttribute('data-theme', effective);
          document.body.setAttribute('data-theme', effective);
        } catch (e) {
          // Если ошибка, применяем тему по умолчанию
          const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          document.documentElement.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
          document.body.setAttribute('data-theme', prefersDark ? 'dark' : 'light');
        }
      })();
    </script>
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a href="index.html" class="logo" data-i18n="logo.label">
          <span class="logo-mark">CB</span>
          <span class="logo-text">CampusBoard</span>
        </a>
        <nav class="nav" id="primaryNav">
          <a href="index.html" class="nav-link nav-link-active" data-i18n="nav.home">Home</a>
          <a href="about.html" class="nav-link" data-i18n="nav.about">About</a>
          <a href="board.html" class="nav-link" data-i18n="nav.board">Board</a>
          <a href="add-post.html" class="nav-link nav-cta" data-i18n="nav.addPost">Add Post</a>
        </nav>
        <div class="header-controls">
          <button
            class="icon-btn"
            id="langToggle"
            type="button"
            aria-label="Toggle language"
          >
            <span id="langToggleLabel">EN</span>
          </button>
          <button
            class="icon-btn"
            id="themeToggle"
            type="button"
            aria-label="Toggle theme"
          >
            <i class="fa-solid fa-moon" id="themeToggleIcon"></i>
          </button>
        </div>
        <button class="nav-toggle" id="navToggle" aria-label="Toggle navigation">
          <span class="nav-toggle-line"></span>
          <span class="nav-toggle-line"></span>
        </button>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="hero-gradient"></div>
        <div class="container hero-inner">
          <div class="hero-copy">
            <p class="hero-greeting" id="heroGreeting"></p>
            <p class="hero-date" id="heroDate"></p>
            <h1 data-i18n="home.hero.title">Stay in the loop on campus life.</h1>
            <p data-i18n="home.hero.body">
              CampusBoard is your central hub for events, announcements, and
              opportunities. One clean board, everything that matters.
            </p>
            <div class="hero-actions">
              <a href="board.html" class="btn btn-primary" data-i18n="home.hero.ctaPrimary"
                >View All Announcements</a
              >
              <a href="add-post.html" class="btn btn-outline" data-i18n="home.hero.ctaSecondary">
                <i class="fa-solid fa-plus"></i>
                Add New Post
              </a>
            </div>
            <div class="hero-meta">
              <div>
                <span class="hero-meta-label" data-i18n="home.stats.boards">Active boards</span>
                <span class="hero-meta-value">12</span>
              </div>
              <div>
                <span class="hero-meta-label" data-i18n="home.stats.weekly">Weekly posts</span>
                <span class="hero-meta-value" id="heroWeeklyCount">340+</span>
              </div>
              <div>
                <span class="hero-meta-label" data-i18n="home.stats.orgs">Student orgs</span>
                <span class="hero-meta-value">85</span>
              </div>
            </div>
          </div>
          <div class="hero-preview">
            <div class="hero-card hero-card-main">
              <div class="badge badge-pill badge-blue">Featured</div>
              <h2>Spring Club Fair 2026</h2>
              <p>
                Meet 80+ student organizations, grab free snacks, and find your
                people this semester.
              </p>
              <div class="hero-card-footer">
                <div class="hero-avatar">
                  <span class="avatar-circle">SA</span>
                  <div>
                    <p class="avatar-name">Student Affairs</p>
                    <p class="avatar-meta">Tomorrow · 4:00 PM · Quad</p>
                  </div>
                </div>
                <button class="like-btn" type="button">
                  <i class="fa-regular fa-heart"></i>
                  <span>124</span>
                </button>
              </div>
            </div>
            <div class="hero-card hero-card-secondary">
              <p class="secondary-label">Popular this week</p>
              <ul class="secondary-list">
                <li>
                  <span class="dot dot-purple"></span>
                  Research assistant positions in CS department
                </li>
                <li>
                  <span class="dot dot-blue"></span>
                  Lost: Silver water bottle in Library East Wing
                </li>
                <li>
                  <span class="dot dot-green"></span>
                  Part-time barista jobs near campus
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="container">
          <div class="section-header">
            <h2 data-i18n="home.section.popularTitle">Popular Announcements</h2>
            <p data-i18n="home.section.popularSubtitle">
              Curated posts students are checking out right now.
            </p>
          </div>
          <div class="card-grid" id="homePopularGrid"></div>
          <div class="section-header" style="margin-top: 2.5rem">
            <h2 data-i18n="home.section.latestTitle">Latest Announcements</h2>
            <p data-i18n="home.section.latestSubtitle">
              Fresh posts from across campus, updated as new announcements are added.
            </p>
          </div>
          <div class="card-grid" id="homeLatestGrid"></div>
          <div class="section-cta">
            <a href="board.html" class="btn btn-primary btn-wide" data-i18n="home.section.viewAll">
              View All Announcements
            </a>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div>
          <p class="footer-brand">CampusBoard</p>
          <p class="footer-text">
            Built by the CampusBoard team to keep every student in the know.
          </p>
        </div>
        <div class="footer-meta">
          <p>Design &amp; Development · 2026 Cohort</p>
          <p class="footer-links">
            <a href="about.html" data-i18n="footer.team">Our Team</a>
            <span>·</span>
            <a href="board.html" data-i18n="footer.announcements">Announcements</a>
          </p>
        </div>
      </div>
    </footer>

    <div id="toastContainer" class="toast-container" aria-live="polite" aria-atomic="true"></div>
    <script src="main.js"></script>
  </body>
</html>

